name: test-runnerlib-job
image: 10.16.0.1:5000/public/reactorcide/runnerbase:dev
source:
  type: git
  url: https://github.com/catalystcommunity/reactorcide.git
  ref: main
command: |
  runnerlib run --job-command "
    echo '=== Runnerlib Test Job ==='
    echo 'Timestamp:' \$(date -u +'%Y-%m-%dT%H:%M:%SZ')
    echo 'Working directory:' \$(pwd)
    echo ''
    echo 'Source checkout contents (top level):'
    ls -la /job/ | head -20
    echo ''
    echo 'Python version:'
    python --version
    echo ''
    echo 'Runnerlib installed:'
    pip show runnerlib 2>/dev/null | head -3 || echo 'runnerlib not installed as package'
    echo ''
    echo 'Runnerlib test complete!'
  "
environment:
  TEST_ENV: "runnerlib-test"
